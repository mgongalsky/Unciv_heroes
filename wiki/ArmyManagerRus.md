# Обзор класса ArmyManager

Класс `ArmyManager` предоставляет функционал для управления армиями в игре. Он позволяет добавлять, удалять, обменивать, комбинировать и разделять отряды, находящиеся в одной или двух армиях. Основное назначение класса — упрощение операций с армиями и обеспечение их корректного выполнения.

## Основные задачи
1. **Управление армиями**: Поддерживает работу с одной или двумя армиями одновременно.
2. **Добавление и удаление отрядов**: Позволяет динамически изменять состав армий.
3. **Обмен отрядами**: Обеспечивает возможность перемещения отрядов между армиями.
4. **Комбинирование и разделение**: Позволяет объединять одинаковые отряды или разделять их на части.

## Основные методы

### `addTroop(troop: TroopInfo, toArmy1: Boolean = true): Boolean`
Добавляет указанный отряд в указанную армию (`army1` или `army2`).

- **Параметры**:
    - `troop`: Добавляемый отряд.
    - `toArmy1`: Если `true`, добавляет в `army1`. Иначе — в `army2`.
- **Возвращает**: `true`, если отряд успешно добавлен; `false`, если операция не удалась.

### `removeTroop(index: Int, fromArmy1: Boolean = true): TroopInfo?`
Удаляет отряд по индексу из указанной армии.

- **Параметры**:
    - `index`: Индекс удаляемого отряда.
    - `fromArmy1`: Если `true`, удаляет из `army1`. Иначе — из `army2`.
- **Возвращает**: Удаленный отряд или `null`, если операция не удалась.

### `getTroop(index: Int, fromArmy1: Boolean = true): TroopInfo?`
Возвращает отряд по индексу из указанной армии.

- **Параметры**:
    - `index`: Индекс запрашиваемого отряда.
    - `fromArmy1`: Если `true`, запрашивает из `army1`. Иначе — из `army2`.
- **Возвращает**: Найденный отряд или `null`, если отряд не найден.

### `swapOrCombineTroops(...)`
Обменивает или объединяет два отряда между армиями или в пределах одной армии.

- **Параметры**:
    - `firstArmy`, `secondArmy`: Армии, участвующие в операции.
    - `firstIndex`, `secondIndex`: Индексы отрядов в армиях.
    - `combine`: Если `true`, отряды объединяются, если они одинакового типа.
- **Возвращает**: `true`, если операция завершилась успешно.

### `splitTroop(...)`
Разделяет один отряд на два.

- **Параметры**:
    - `sourceArmy`, `targetArmy`: Армии, из которых и в которые производится разделение.
    - `sourceIndex`, `targetIndex`: Индексы отрядов в армиях.
    - `finalFirstTroopCount`: Численность, остающаяся в исходном отряде.
- **Возвращает**: `true`, если разделение успешно.

## Пример использования
1. **Добавление отряда**:
   ```kotlin
   val troop = TroopInfo(100, "Swordsman")
   val success = armyManager.addTroop(troop, toArmy1 = true)

